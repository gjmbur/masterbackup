----------------------------------------------------------------------------------
      name:  <unnamed>
       log:  /Users/gjmb/Desktop/SOC360fa22/code/logs/360qualprojects.log
  log type:  text
 opened on:  13 Oct 2022, 22:26:17

. 
end of do-file

. do "/var/folders/bx/gmg8gqm9629_5lp7mm91v8s00000gn/T//SD00762.000000"

. /* II. Two categorical variables. */ 
. 
.         * Let's begin with the simplest case involving qualitative variables, th
> at 
.         * of the analysis of two categorical variables. Let's suppose that we're
>  
.         * interested in the analysis of religion and one's opinion of capital 
.         * punishment. We can begin by inspecting the variables individually. 
. 
end of do-file

. do "/var/folders/bx/gmg8gqm9629_5lp7mm91v8s00000gn/T//SD00762.000000"

.         * UNIVARIATE ANALYSIS.
.         
.         * For qualitative variables, univariate analysis is simple: we really ju
> st
.         * want to look at the frequency table and produce some bar graphs. 
. 
.         codebook relig 

----------------------------------------------------------------------------------
relig                                                     r's religious preference
----------------------------------------------------------------------------------

                  type:  numeric (byte)
                 label:  RELIG

                 range:  [1,13]                       units:  1
         unique values:  13                       missing .:  0/2,348
       unique mv codes:  2                       missing .*:  21/2,348

              examples:  1     protestant
                         1     protestant
                         2     catholic
                         4     none

. 
end of do-file

. do "/var/folders/bx/gmg8gqm9629_5lp7mm91v8s00000gn/T//SD00762.000000"

.                 * How much information this provides depends somewhat on the dat
> a-set;
.                 * for the GSS, this is relatively informative. It "does what it 
> says
.                 * on the tin": produces a brief simulation of the print or PDF c
> odebook.
.         
.         tab relig

          r's religious |
             preference |      Freq.     Percent        Cum.
------------------------+-----------------------------------
             protestant |      1,139       48.95       48.95
               catholic |        493       21.19       70.13
                 jewish |         39        1.68       71.81
                   none |        542       23.29       95.10
                  other |         32        1.38       96.48
               buddhism |         19        0.82       97.29
               hinduism |          8        0.34       97.64
          other eastern |          1        0.04       97.68
           moslem/islam |         16        0.69       98.37
     orthodox-christian |          6        0.26       98.62
              christian |         30        1.29       99.91
        native american |          1        0.04       99.96
inter-nondenominational |          1        0.04      100.00
------------------------+-----------------------------------
                  Total |      2,327      100.00

.                 
.                 * This produces a frequency table with 1) raw frequencies, 2) an
>  estimate
.                 * of the PMF (the percentages), and 3) an estimate of the CDF (t
> he 
.                 * column titled "cumulative" -- although note that this is not i
> n any 
.                 * sense a very meaningful CDF since the ordering of the outcomes
>  does
.                 * not matter. 
. 
end of do-file

. set scheme s2color

. do "/var/folders/bx/gmg8gqm9629_5lp7mm91v8s00000gn/T//SD00762.000000"

.         graph bar, over(relig) 

. 
end of do-file

. do "/var/folders/bx/gmg8gqm9629_5lp7mm91v8s00000gn/T//SD00762.000000"

.         graph hbar, over(relig, sort(1) descending) 

. 
end of do-file

. graph bar relig

. do "/var/folders/bx/gmg8gqm9629_5lp7mm91v8s00000gn/T//SD00762.000000"

.         * Now let's return to an analysis of the capital punishment variable bef
> ore
.         * going onwards. I'm leaving the conclusions out of the do-file; they're
>  
.         * pretty obvious in the case of simple qualitative variable. 
.         
.         codebook cappun

----------------------------------------------------------------------------------
cappun                                    favor or oppose death penalty for murder
----------------------------------------------------------------------------------

                  type:  numeric (byte)
                 label:  LABV

                 range:  [1,2]                        units:  1
         unique values:  2                        missing .:  0/2,348
       unique mv codes:  2                       missing .*:  155/2,348

            tabulation:  Freq.   Numeric  Label
                         1,385         1  favor
                           808         2  oppose
                           125        .d  DK
                            30        .n  NA

. 
end of do-file

. do "/var/folders/bx/gmg8gqm9629_5lp7mm91v8s00000gn/T//SD00762.000000"

.         tab cappun

   favor or |
     oppose |
      death |
penalty for |
     murder |      Freq.     Percent        Cum.
------------+-----------------------------------
      favor |      1,385       63.16       63.16
     oppose |        808       36.84      100.00
------------+-----------------------------------
      Total |      2,193      100.00

. 
end of do-file

. do "/var/folders/bx/gmg8gqm9629_5lp7mm91v8s00000gn/T//SD00762.000000"

.         graph bar, over(cappun)

. 
end of do-file

. do "/var/folders/bx/gmg8gqm9629_5lp7mm91v8s00000gn/T//SD00762.000000"

. 
.         * BIVARIATE ANALYSIS
.         
.         * Bivariate numeric analysis.
.         
.         * A two-way table (AKA contingency table or cross-tabulation) is the mos
> t 
.         * obvious choice for the analysis of two qualitative variables. We can f
> irst
.         * pull up the table with raw frequencies only...
.         
.         tab relig cappun

                      | favor or oppose death
        r's religious |  penalty for murder
           preference |     favor     oppose |     Total
----------------------+----------------------+----------
           protestant |       701        361 |     1,062 
             catholic |       293        176 |       469 
               jewish |        23         13 |        36 
                 none |       303        205 |       508 
                other |        18         13 |        31 
             buddhism |         7          9 |        16 
             hinduism |         2          4 |         6 
         moslem/islam |         8          7 |        15 
   orthodox-christian |         4          2 |         6 
            christian |        17         11 |        28 
      native american |         0          1 |         1 
----------------------+----------------------+----------
                Total |     1,376        802 |     2,178 

. 
end of do-file

. do "/var/folders/bx/gmg8gqm9629_5lp7mm91v8s00000gn/T//SD00762.000000"

.                 * N.b. that the transposition of rows and columns is purely aest
> hetic
.                 * until we calculate percentages. E.g., what follows is equally 
> acceptable.
.                 
.                 tab cappun relig

  favor or |
    oppose |
     death |
   penalty |                r's religious preference
for murder | protestan   catholic     jewish       none      other |     Total
-----------+-------------------------------------------------------+----------
     favor |       701        293         23        303         18 |     1,376 
    oppose |       361        176         13        205         13 |       802 
-----------+-------------------------------------------------------+----------
     Total |     1,062        469         36        508         31 |     2,178 


  favor or |
    oppose |
     death |
   penalty |                r's religious preference
for murder |  buddhism   hinduism  moslem/is  orthodox-  christian |     Total
-----------+-------------------------------------------------------+----------
     favor |         7          2          8          4         17 |     1,376 
    oppose |         9          4          7          2         11 |       802 
-----------+-------------------------------------------------------+----------
     Total |        16          6         15          6         28 |     2,178 


  favor or |
    oppose |    r's
     death | religious
   penalty | preference
for murder | native am |     Total
-----------+-----------+----------
     favor |         0 |     1,376 
    oppose |         1 |       802 
-----------+-----------+----------
     Total |         1 |     2,178 

.         
. 
end of do-file

. do "/var/folders/bx/gmg8gqm9629_5lp7mm91v8s00000gn/T//SD00762.000000"

.         tab relig cappun, row

+----------------+
| Key            |
|----------------|
|   frequency    |
| row percentage |
+----------------+

                      | favor or oppose death
        r's religious |  penalty for murder
           preference |     favor     oppose |     Total
----------------------+----------------------+----------
           protestant |       701        361 |     1,062 
                      |     66.01      33.99 |    100.00 
----------------------+----------------------+----------
             catholic |       293        176 |       469 
                      |     62.47      37.53 |    100.00 
----------------------+----------------------+----------
               jewish |        23         13 |        36 
                      |     63.89      36.11 |    100.00 
----------------------+----------------------+----------
                 none |       303        205 |       508 
                      |     59.65      40.35 |    100.00 
----------------------+----------------------+----------
                other |        18         13 |        31 
                      |     58.06      41.94 |    100.00 
----------------------+----------------------+----------
             buddhism |         7          9 |        16 
                      |     43.75      56.25 |    100.00 
----------------------+----------------------+----------
             hinduism |         2          4 |         6 
                      |     33.33      66.67 |    100.00 
----------------------+----------------------+----------
         moslem/islam |         8          7 |        15 
                      |     53.33      46.67 |    100.00 
----------------------+----------------------+----------
   orthodox-christian |         4          2 |         6 
                      |     66.67      33.33 |    100.00 
----------------------+----------------------+----------
            christian |        17         11 |        28 
                      |     60.71      39.29 |    100.00 
----------------------+----------------------+----------
      native american |         0          1 |         1 
                      |      0.00     100.00 |    100.00 
----------------------+----------------------+----------
                Total |     1,376        802 |     2,178 
                      |     63.18      36.82 |    100.00 

. 
end of do-file

. tab relig cappun, col

+-------------------+
| Key               |
|-------------------|
|     frequency     |
| column percentage |
+-------------------+

                      | favor or oppose death
        r's religious |  penalty for murder
           preference |     favor     oppose |     Total
----------------------+----------------------+----------
           protestant |       701        361 |     1,062 
                      |     50.94      45.01 |     48.76 
----------------------+----------------------+----------
             catholic |       293        176 |       469 
                      |     21.29      21.95 |     21.53 
----------------------+----------------------+----------
               jewish |        23         13 |        36 
                      |      1.67       1.62 |      1.65 
----------------------+----------------------+----------
                 none |       303        205 |       508 
                      |     22.02      25.56 |     23.32 
----------------------+----------------------+----------
                other |        18         13 |        31 
                      |      1.31       1.62 |      1.42 
----------------------+----------------------+----------
             buddhism |         7          9 |        16 
                      |      0.51       1.12 |      0.73 
----------------------+----------------------+----------
             hinduism |         2          4 |         6 
                      |      0.15       0.50 |      0.28 
----------------------+----------------------+----------
         moslem/islam |         8          7 |        15 
                      |      0.58       0.87 |      0.69 
----------------------+----------------------+----------
   orthodox-christian |         4          2 |         6 
                      |      0.29       0.25 |      0.28 
----------------------+----------------------+----------
            christian |        17         11 |        28 
                      |      1.24       1.37 |      1.29 
----------------------+----------------------+----------
      native american |         0          1 |         1 
                      |      0.00       0.12 |      0.05 
----------------------+----------------------+----------
                Total |     1,376        802 |     2,178 
                      |    100.00     100.00 |    100.00 

. tab relig

          r's religious |
             preference |      Freq.     Percent        Cum.
------------------------+-----------------------------------
             protestant |      1,139       48.95       48.95
               catholic |        493       21.19       70.13
                 jewish |         39        1.68       71.81
                   none |        542       23.29       95.10
                  other |         32        1.38       96.48
               buddhism |         19        0.82       97.29
               hinduism |          8        0.34       97.64
          other eastern |          1        0.04       97.68
           moslem/islam |         16        0.69       98.37
     orthodox-christian |          6        0.26       98.62
              christian |         30        1.29       99.91
        native american |          1        0.04       99.96
inter-nondenominational |          1        0.04      100.00
------------------------+-----------------------------------
                  Total |      2,327      100.00

. do "/var/folders/bx/gmg8gqm9629_5lp7mm91v8s00000gn/T//SD00762.000000"

.         describe relig

              storage   display    value
variable name   type    format     label      variable label
----------------------------------------------------------------------------------
relig           byte    %8.0g      RELIG      r's religious preference

. 
end of do-file

. do "/var/folders/bx/gmg8gqm9629_5lp7mm91v8s00000gn/T//SD00762.000000"

.         * ... notice and then display the value label (for a value-label, you ne
> ed
.         * to use the specific command -label list-. * 
.         
.         label list RELIG
RELIG:
           1 protestant
           2 catholic
           3 jewish
           4 none
           5 other
           6 buddhism
           7 hinduism
           8 other eastern
           9 moslem/islam
          10 orthodox-christian
          11 christian
          12 native american
          13 inter-nondenominational
          .d DK
          .i IAP
          .n NA

. 
end of do-file

. tab relig

          r's religious |
             preference |      Freq.     Percent        Cum.
------------------------+-----------------------------------
             protestant |      1,139       48.95       48.95
               catholic |        493       21.19       70.13
                 jewish |         39        1.68       71.81
                   none |        542       23.29       95.10
                  other |         32        1.38       96.48
               buddhism |         19        0.82       97.29
               hinduism |          8        0.34       97.64
          other eastern |          1        0.04       97.68
           moslem/islam |         16        0.69       98.37
     orthodox-christian |          6        0.26       98.62
              christian |         30        1.29       99.91
        native american |          1        0.04       99.96
inter-nondenominational |          1        0.04      100.00
------------------------+-----------------------------------
                  Total |      2,327      100.00

. tab relig, nolabel

        r's |
  religious |
 preference |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |      1,139       48.95       48.95
          2 |        493       21.19       70.13
          3 |         39        1.68       71.81
          4 |        542       23.29       95.10
          5 |         32        1.38       96.48
          6 |         19        0.82       97.29
          7 |          8        0.34       97.64
          8 |          1        0.04       97.68
          9 |         16        0.69       98.37
         10 |          6        0.26       98.62
         11 |         30        1.29       99.91
         12 |          1        0.04       99.96
         13 |          1        0.04      100.00
------------+-----------------------------------
      Total |      2,327      100.00

. do "/var/folders/bx/gmg8gqm9629_5lp7mm91v8s00000gn/T//SD00762.000000"

.         gen protestant = relig == 1 

. 
end of do-file

. do "/var/folders/bx/gmg8gqm9629_5lp7mm91v8s00000gn/T//SD00762.000000"

.         * Important point here: in virtually all programming languages, a single
.         * equals sign is the assignment operator--it *tells* the computer to mak
> e
.         * A equal B--while a double-equals sign is the evaluation operator (it c
> hecks
.         * whether some condition is true). Very common source of bugs in code IM
> E. 
.         
.         * Now, all we need to do is remember the key "gotcha" about missing valu
> es
.         * in Stata: they are sometimes understood by Stata as arbitrarily-large
.         * constants. So, people who are *not* Protestants because their religion
.         * was missing should not be assigned to Protestant or not; they should 
.         * remain missings. 
.         
.         replace protestant = . if missing(relig)
(21 real changes made, 21 to missing)

. 
end of do-file

. tabulate protestant

 protestant |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |      1,188       51.05       51.05
          1 |      1,139       48.95      100.00
------------+-----------------------------------
      Total |      2,327      100.00

. do "/var/folders/bx/gmg8gqm9629_5lp7mm91v8s00000gn/T//SD00762.000000"

.         label define protestantlab 0 "non-Protestant"  1 "Protestant" 

.                 * You can technically make the value-label the exact same thing 
> as the
.                 * variable name because Stata stores these and variables in sepa
> rate
.                 * "spaces", but I find it easier to make it clear which is which
> .
. 
.         label values protestant protestantlab

. 
end of do-file

. do "/var/folders/bx/gmg8gqm9629_5lp7mm91v8s00000gn/T//SD00762.000000"

.         
.         * Finally, let's check our work. Here, we're going to cross-tab the old 
> and
.         * new variable. Of course, this is not really an *analysis* -- these two
>  
.         * vars basically encode the same information -- but it is a way to make 
> sure
.         * that we haven't goofed up. 
.         
.         * We'll also add the ", mis" option to include missings (usually exclude
> d by
.         * default) to make sure that all MVs were handled correctly. 
.         
.         tab relig protestant, mis 

        r's religious |            protestant
           preference | non-Prote  Protestan          . |     Total
----------------------+---------------------------------+----------
           protestant |         0      1,139          0 |     1,139 
             catholic |       493          0          0 |       493 
               jewish |        39          0          0 |        39 
                 none |       542          0          0 |       542 
                other |        32          0          0 |        32 
             buddhism |        19          0          0 |        19 
             hinduism |         8          0          0 |         8 
        other eastern |         1          0          0 |         1 
         moslem/islam |        16          0          0 |        16 
   orthodox-christian |         6          0          0 |         6 
            christian |        30          0          0 |        30 
      native american |         1          0          0 |         1 
inter-nondenomination |         1          0          0 |         1 
                   DK |         0          0          5 |         5 
                   NA |         0          0         16 |        16 
----------------------+---------------------------------+----------
                Total |     1,188      1,139         21 |     2,348 

. 
end of do-file

. tab marital

      marital |
       status |      Freq.     Percent        Cum.
--------------+-----------------------------------
      married |        998       42.54       42.54
      widowed |        200        8.53       51.07
     divorced |        403       17.18       68.24
    separated |         75        3.20       71.44
never married |        670       28.56      100.00
--------------+-----------------------------------
        Total |      2,346      100.00

. d marital

              storage   display    value
variable name   type    format     label      variable label
----------------------------------------------------------------------------------
marital         byte    %8.0g      MARITAL    marital status

. label list MARITAL
MARITAL:
           1 married
           2 widowed
           3 divorced
           4 separated
           5 never married
          .n NA

. gen evermarried = . 
(2,348 missing values generated)

. replace married = 1 if marital == 1
variable married not found
r(111);

. replace evermarried = 1 if marital == 1
(998 real changes made)

. replace evermarried = 1 if marital == 2
(200 real changes made)

. replace evermarried = 0 if marital == 5
(670 real changes made)

. do "/var/folders/bx/gmg8gqm9629_5lp7mm91v8s00000gn/T//SD00762.000000"

.         * We can wrap up the analysis by recalling that a dummy variable's summa
> ry
.         * statistics are easy to interpret (unlike those of a nominal variable):
>  the
.         * sample mean is the proportion of people in the sample whose outcome on
>  the
.         * variable is 1, while the variance is nearly p (the mean) * 1-p (there'
> s a
.         * small bias term that disappears with sample size; see my lectures if y
> ou
.         * really want to know more). 
.         
.         * This property of the variance is more important in proving a fact abou
> t
.         * regression on a dummy variable that becomes useful to know later. 
.         
.         sum protestant // looks like about 49 percent of the sample were protest
> ant.

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
  protestant |      2,327    .4894714    .4999966          0          1

. 
end of do-file

. tab relig

          r's religious |
             preference |      Freq.     Percent        Cum.
------------------------+-----------------------------------
             protestant |      1,139       48.95       48.95
               catholic |        493       21.19       70.13
                 jewish |         39        1.68       71.81
                   none |        542       23.29       95.10
                  other |         32        1.38       96.48
               buddhism |         19        0.82       97.29
               hinduism |          8        0.34       97.64
          other eastern |          1        0.04       97.68
           moslem/islam |         16        0.69       98.37
     orthodox-christian |          6        0.26       98.62
              christian |         30        1.29       99.91
        native american |          1        0.04       99.96
inter-nondenominational |          1        0.04      100.00
------------------------+-----------------------------------
                  Total |      2,327      100.00

. sum protestant, d

                         protestant
-------------------------------------------------------------
      Percentiles      Smallest
 1%            0              0
 5%            0              0
10%            0              0       Obs               2,327
25%            0              0       Sum of Wgt.       2,327

50%            0                      Mean           .4894714
                        Largest       Std. Dev.      .4999966
75%            1              1
90%            1              1       Variance       .2499966
95%            1              1       Skewness       .0421237
99%            1              1       Kurtosis       1.001774

. display r(mean)*(1-r(mean))*(r(N))/(r(N)-1)
.24999658

. help summ

. do "/var/folders/bx/gmg8gqm9629_5lp7mm91v8s00000gn/T//SD00762.000000"

.         * We can now go ahead and look at this simplied output. 
.         * It's probably a little more conventional to use row conditional probab
> ility...
. 
.         tab protestant cappun, row 

+----------------+
| Key            |
|----------------|
|   frequency    |
| row percentage |
+----------------+

               | favor or oppose death
               |  penalty for murder
    protestant |     favor     oppose |     Total
---------------+----------------------+----------
non-Protestant |       675        441 |     1,116 
               |     60.48      39.52 |    100.00 
---------------+----------------------+----------
    Protestant |       701        361 |     1,062 
               |     66.01      33.99 |    100.00 
---------------+----------------------+----------
         Total |     1,376        802 |     2,178 
               |     63.18      36.82 |    100.00 

. 
end of do-file

.  tab protestant cappun, row chi2

+----------------+
| Key            |
|----------------|
|   frequency    |
| row percentage |
+----------------+

               | favor or oppose death
               |  penalty for murder
    protestant |     favor     oppose |     Total
---------------+----------------------+----------
non-Protestant |       675        441 |     1,116 
               |     60.48      39.52 |    100.00 
---------------+----------------------+----------
    Protestant |       701        361 |     1,062 
               |     66.01      33.99 |    100.00 
---------------+----------------------+----------
         Total |     1,376        802 |     2,178 
               |     63.18      36.82 |    100.00 

          Pearson chi2(1) =   7.1369   Pr = 0.008

. do "/var/folders/bx/gmg8gqm9629_5lp7mm91v8s00000gn/T//SD00762.000000"

.         ssc install spineplot // no trouble if already installed, BTW. 
checking spineplot consistency and verifying not already installed...
all files already exist and are up to date.

. 
end of do-file

. do "/var/folders/bx/gmg8gqm9629_5lp7mm91v8s00000gn/T//SD00762.000000"

.         spineplot cappun protestant 

. 
end of do-file

. spineplot cappun race

. do "/var/folders/bx/gmg8gqm9629_5lp7mm91v8s00000gn/T//SD00762.000000"

.         spineplot cappun protestant 

. 
end of do-file

. do "/var/folders/bx/gmg8gqm9629_5lp7mm91v8s00000gn/T//SD00762.000000"

.                 spineplot cappun relig

.                         * --> again, do not do this. 
. 
end of do-file

. do "/var/folders/bx/gmg8gqm9629_5lp7mm91v8s00000gn/T//SD00762.000000"

.         
.         recode cappun (1 = 1 "favor") (2 = 0 "oppose"), gen(deathpenalty)
(808 differences between cappun and deathpenalty)

.         
.         tab protestant deathpen, mis 

               |   RECODE of cappun (favor or oppose death
               |             penalty for murder)
    protestant |    oppose      favor         .d         .n |     Total
---------------+--------------------------------------------+----------
non-Protestant |       441        675         61         11 |     1,188 
    Protestant |       361        701         60         17 |     1,139 
             . |         6          9          4          2 |        21 
---------------+--------------------------------------------+----------
         Total |       808      1,385        125         30 |     2,348 

.                 // we check our work in the same manner as above: loks good. 
. 
end of do-file

. do "/var/folders/bx/gmg8gqm9629_5lp7mm91v8s00000gn/T//SD00762.000000"

.         tab cappun deathpen, mis 

  favor or |
    oppose |
     death |   RECODE of cappun (favor or oppose death
   penalty |             penalty for murder)
for murder |    oppose      favor         .d         .n |     Total
-----------+--------------------------------------------+----------
     favor |         0      1,385          0          0 |     1,385 
    oppose |       808          0          0          0 |       808 
        DK |         0          0        125          0 |       125 
        NA |         0          0          0         30 |        30 
-----------+--------------------------------------------+----------
     Total |       808      1,385        125         30 |     2,348 

. 
end of do-file

. do "/var/folders/bx/gmg8gqm9629_5lp7mm91v8s00000gn/T//SD00762.000000"

.         label var deathpen "Opinion of death penalty in case of murder"

. 
end of do-file

. d deathpen

              storage   display    value
variable name   type    format     label      variable label
----------------------------------------------------------------------------------
deathpenalty    byte    %9.0g      deathpenalty
                                              Opinion of death penalty in case of
                                                murder

. do "/var/folders/bx/gmg8gqm9629_5lp7mm91v8s00000gn/T//SD00762.000000"

.         net install schemepack, ///
>                 from("https://raw.githubusercontent.com/asjadnaqvi/Stata-schemes
> /main/schemes/") replace
checking schemepack consistency and verifying not already installed...
all files already exist and are up to date.

.         set scheme gg_hue 

. 
end of do-file

. do "/var/folders/bx/gmg8gqm9629_5lp7mm91v8s00000gn/T//SD00762.000000"

.         
.         qui tab deathpen protestant

.         spineplot deathpen protestant, ///
>                 title("Relationship between religion and opinion of death penalt
> y", ///
>                 size(medium)) note("Source: GSS 2018, {it:n} = `r(N)'." ///
>                 "Note: context is for a defendant convicted of murder") ///
>                 ylab(0(.1)1, axis(2)) xlab(0(.1)1, axis(1)) xtitle("", axis(2)) 
> ///
>                 xtitle("fraction", axis(1)) ytitle("Approval (fraction)", axis(2
> )) ///
>                 legend(ring(0) pos(10) region(lp(longdash) lc(black)) fcolor(whi
> te))

. 
end of do-file

. do "/var/folders/bx/gmg8gqm9629_5lp7mm91v8s00000gn/T//SD00762.000000"

.         qui tab deathpen protestant

.         
.         spineplot deathpen protestant, ///
>                 title("Relationship between religion and opinion of death penalt
> y", ///
>                 size(medium)) note("Source: GSS 2018, {it:n} = `r(N)'." ///
>                 "Note: context is for a defendant convicted of murder") ///
>                 ylab(0(.1)1, axis(2)) xlab(0(.1)1, axis(1)) xtitle("", axis(2)) 
> ///
>                 xtitle("fraction", axis(1)) ytitle("Approval (fraction)", axis(2
> )) ///
>                 legend(ring(0) pos(10) region(lp(longdash) lc(black)) fcolor(whi
> te))

. 
end of do-file

. exit, clear
